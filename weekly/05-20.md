Wednesday, 22 May 2013
==================================


FontAwesome
-----------------
I've been playing with FontAwesome, which lets me enter icons. It uses the FontAwesome font, with a couple of hundred named characters. I can also get my own named characters, for any font (in unicode), like this:

    [class^="chr-"],
    [class*=" chr-"] {
        font-family: arial;
        font-style: normal;
        font-weight: normal;
    }

    i.chr-infinity:before {
        content: "\221e";
    }
    i.chr-check:before {
        content: "\2714";
    }
    i.chr-cancel:before {
        content: "\2717";
    }
    i.chr-snowflake:before {
        content: "\2744";
    }
    i.chr-floral-heart:before {
        content: "\2767";
    }
    i.chr-exclamation:before {
        content: "\0021";
    }

In html:

    <p>Infinity:  <i class="chr-infinity"></i>  (icon \221e)</p>
    <p>Check:     <i class="chr-check"></i>  (icon \2714)</p>
    <p>Cancel:    <i class="chr-cancel"></i>  (icon \2717)</p>
    <p>Showflake: <i class="chr-snowflake"></i>  (icon \2744)</p>
    <p>Heart:     <i class="chr-floral-heart"></i>  (icon \2767)</p>
    <p>Exclamation:   <i class="chr-exclamation"></i>  (icon \0021)</p>

Hmmmm.... I've just discovered that FontAwesome plays nicely with my own named symbols. So I can do things like this:

    <i class="icon-camera-retro icon-4x"></i>
    <i class="chr-infinity icon-4x"></i>
    <i class="chr-infinity icon-2x"></i>
    <i class="chr-infinity icon-spin"></i>

Note: I can't name my own symbols with anything starting with icon-, because it sets the font to FontAwesome, and doesn't work for mine. I can have any different prefix, though, and use all of the rest of the FontAwesome goodies.




Real-Time Push Notifications
-------------------------------

I'm learning how to do real-time push notifications in html.

These would be useful for updating comments as they happen, posting alerts, and so on.

See:

    http://www.youtube.com/watch?v=wzKNsX4zAPw
    Server-Sent Events: http://www.html5rocks.com/en/tutorials/eventsource/basics/
    Sockets: http://www.ibm.com/developerworks/library/wa-aj-socket/

Several external services do this, too:

    Pusher: pusher.com
    Realtime: http://www.xrtml.org/
    Beaconpush: http://www.beaconpush.com/

HTML5 introduced websockets, which do this.

    http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/
    https://tutsplus.com/tutorial/diving-into-websockets/
    Ratchet: http://socketo.me/   (this looks amazing!)
    https://github.com/lemmingzshadow/php-websockets


Canvas
------------

HTML5 also introduced a canvas, that we can use to draw. Drawing with the canvas requires javascript.
To use it:

    <canvas id="myCanvas" width="600" height="600"></canvas>        // creates a canvas area

    <script type="text/javascript">
        var canvas=document.getElementById('myCanvas');             // gets the canvas element
        var ctx=canvas.getContext('2d');                            // gets a (2-dimensional) context
                                                                    // all work is done on the context
        ctx.fillStyle='#FF0000';                    // sets the fill color to red
        ctx.fillRect(100,100,80,100);               // fills a rectangle (left, top, width, height)
        ctx.strokeRect(10,10,80,100);               // draws the outline of a rectangle (l,t,w,h)
        ctx.rect(20,20,10,10);                      // defines a rectangular area
        ctx.strokeStyle = "green";                  // sets the stroke color to green
        ctx.lineWidth = 2;                          // sets the stroke width to 2px
        ctx.stroke();                               // draws the outline of the previously selected rectangle
        ctx.strokeText("Hello, World!", 40, 40);    // draws the outline of some text (left, top)
        ctx.fillText("Hello, World!", 70, 70);      // fills some text (left, top)
        ctx.font = "15pt verdana";                  // changes the font size and face
        ctx.fillStyle="#33CCBB";                    // sets the fill color
        ctx.fillText("Hi, there!", 90, 90);         // writes some text (in new font and color)
    </script>




SVG Canvas
------------

We can also draw things with SVG. It's a similar process:

    <div id="container" style="width: 400px; height: 800px;">
    </div>

    <script type="text/javascript">
        document.createSvg = function(tagName) {
            var svgNS = "http://www.w3.org/2000/svg";
            return this.createElementNS(svgNS, tagName);
        };

        var numberPerSide = 20;
        var size = 10;
        var pixelsPerSide = 400;

        var grid = function(numberPerSide, size, pixelsPerSide, colors) {
            var svg = document.createSvg("svg");
            svg.setAttribute("width", pixelsPerSide);
            svg.setAttribute("height", pixelsPerSide);
            svg.setAttribute("viewBox", [0, 0, numberPerSide * size, numberPerSide * size].join(" "));

            for(var i = 0; i < numberPerSide; i++) {
                for(var j = 0; j < numberPerSide; j++) {
                  var color1 = colors[(i+j) % colors.length];
                  var color2 = colors[(i+j+1) % colors.length];  
                  var g = document.createSvg("g");
                  g.setAttribute("transform", ["translate(", i*size, ",", j*size, ")"].join(""));
                  var number = numberPerSide * i + j;
                  var box = document.createSvg("rect");
                  box.setAttribute("width", size);
                  box.setAttribute("height", size);
                  box.setAttribute("fill", color1);
                  box.setAttribute("id", "b" + number); 
                  g.appendChild(box);
                  var text = document.createSvg("text");
                  text.appendChild(document.createTextNode(i * numberPerSide + j));
                  text.setAttribute("fill", color2);
                  text.setAttribute("font-size", 6);
                  text.setAttribute("x", 0);
                  text.setAttribute("y", size/2);
                  text.setAttribute("id", "t" + number);
                  g.appendChild(text);
                  svg.appendChild(g);
                }  
            }
            svg.addEventListener(
                "click",
                function(e){
                    var id = e.target.id;
                    if(id)
                        alert(id.substring(1));
                },
                false);
            return svg;
        };

        var container = document.getElementById("container");
        container.appendChild(grid(5, 10, 200, ["red", "white"]));
        container.appendChild(grid(3, 10, 200, ["white", "black", "yellow"]));
        container.appendChild(grid(7, 10, 200, ["blue", "magenta", "cyan", "cornflowerblue"]));
        container.appendChild(grid(2, 8, 200, ["turquoise", "gold"]));
    </script>
