Tuesday, 17 September 2013
===================================

I had an issue with a date field today. I'm able to write timestamp-formatted date strings to the database, but not other formats. So this would work:

    $person->birthdate = '2001-01-20 04:27:00';

but this would not:

    $person->birthdate = '1/20/2001';

Running into it when trying to present data, too...

Instead of using Laravel's native dates function, I manually set an Accessor and Mutator. Instead of this:

    public function getDates()
    {
        return array('birthdate');
    }

I'm doing this:

    public function setBirthdateAttribute($birthdate)
    {
        $newValue = new Carbon($birthdate);
        $this->attributes['birthdate'] = $newValue->format('Y-n-j 00:00:00');
    }

    public function getBirthdateAttribute($value)
    {
        return new Carbon($value);
    }

... and that seems to work. Not crazy about it as a solution (I'll have to remember to do the same thing for all other dates, throughout the system), but it should work. I'm really not sure why Eloquent uses the date values that it does.

